<launch>
    <arg name="robot_name" default="unodopo" />
  
    <include file="$(find unodopo_description)/launch/description.launch" />
  
    <!-- Launch roboteq motor controller -->
    <include file="$(find roboteq_diff_driver)/launch/driver.launch" />
  
    <!-- Launch two hokuyo lidars -->
    <group ns="front_left">
      <node name="urg_node" pkg="urg_node" type="urg_node" output="screen">
        <param name="ip_address" value="192.168.1.10"/>
        <param name="serial_port" value="/dev/ttyACM0"/>
        <param name="serial_baud" value="115200"/>
        <param name="frame_id" value="hokuyo_laser_scanner_1"/>
        <param name="calibrate_time" value="true"/>
        <param name="publish_intensity" value="false"/>
        <param name="publish_multiecho" value="false"/>
        <param name="angle_min" value="-2.35"/>
        <param name="angle_max" value="2.35"/>
      </node>
    </group>
  
    <group ns="back_right">
      <node name="urg_node" pkg="urg_node" type="urg_node" output="screen">
        <param name="ip_address" value="192.168.1.11"/>
        <param name="serial_port" value="/dev/ttyACM0"/>
        <param name="serial_baud" value="115200"/>
        <param name="frame_id" value="hokuyo_laser_scanner_2"/>
        <param name="calibrate_time" value="true"/>
        <param name="publish_intensity" value="false"/>
        <param name="publish_multiecho" value="false"/>
        <param name="angle_min" value="-2.356194"/>
        <param name="angle_max" value="2.356194"/>
      </node>
    </group>
      
    <!-- Launch multi laser merger -->
    <node pkg="ira_laser_tools" name="laserscan_multi_merger" type="laserscan_multi_merger" output="screen">
      <param name="destination_frame" value="base_link"/>
      <param name="cloud_destination_topic" value="/merged_cloud"/>
      <param name="scan_destination_topic" value="/scan"/>
      <param name="laserscan_topics" value ="/front_left/scan /back_right/scan" /> <!-- LIST OF THE LASER SCAN TOPICS TO SUBSCRIBE -->
  
      <param name="angle_min" value="-3.1415926"/>
      <param name="angle_max" value="3.1415926"/>
      <param name="angle_increment" value="0.004358"/>
      <param name="scan_time" value="0.025"/>
      <param name="range_min" value="0.10"/>
      <param name="range_max" value="10.0"/>
      </node>
  
  </launch>
  